import os
import requests
import json

# API Key (Base64 ì¸ì½”ë”©ëœ "username:password" í˜•ì‹)
api_key = os.getenv("SHUTTLE_API_KEY")

headers = {
    "Authorization": f"Basic {api_key}",
    "Content-Type": "application/json",
}

# Shuttle Gauss2.2-37B ì—”ë“œí¬ì¸íŠ¸ (ì£¼ì˜: ëª¨ë¸ ì´ë¦„ê³¼ URL ì¼ì¹˜ í™•ì¸)
url = "https://inference-webtrial-api.shuttle.sr-cloud.com/gauss2-2-37b-instruct/v1/chat/completions"

def ask_llm(prompt):
    payload = {
        "model": "gauss2.2-37b",
        "messages": [
            {"role": "user", "content": prompt}
        ],
        "temperature": 0.3,
        "top_p": 0.95
    }

    response = requests.post(url, headers=headers, data=json.dumps(payload))

    if response.status_code == 200:
        result = response.json()
        return result["choices"][0]["message"]["content"].strip()
    else:
        print("âŒ Error:", response.status_code)
        print(response.text)
        return None

if __name__ == "__main__":
    question = input("ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”: ")
    answer = ask_llm(question)
    print("\nğŸ’¡ ë‹µë³€:\n", answer)
